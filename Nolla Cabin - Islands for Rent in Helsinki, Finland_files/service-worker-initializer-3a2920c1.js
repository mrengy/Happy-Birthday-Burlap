(window.webpackJsonp=window.webpackJsonp||[]).push([["be95"],{"+AkB":function(e,n,t){"use strict";function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{id:e,options:n}}t.d(n,"a",(function(){return r}))},"0P7S":function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t("Qyje"),i=t.n(r),o=t("yCVm");function a(e){var n=e.params,t=e.pathname,r=void 0===t?window.location.pathname:t,a=e.search,c=void 0===a?window.location.search:a;if(!n||0===Object.keys(n).length)return r+c;var s=Object.assign(Object.assign({},Object(o.a)(c)),n),u=i.a.stringify(s,{arrayFormat:"brackets"});return u.length>0?"".concat(r,"?").concat(u):r}},"1Fup":function(e,n,t){"use strict";t.d(n,"b",(function(){return f})),t.d(n,"c",(function(){return v})),t.d(n,"a",(function(){return p}));var r=t("xk4V"),i=t.n(r),o=t("qJkm"),a=t("Jhmp"),c=t("hwnc"),s=Object(c.a)("Push:Device Id",Object(c.b)("#b95f6f","#fff"));function u(){return o.a.current().id}function d(){return Object(a.a)("airbnb_push_notifications","push_token_id").then((function(e){if(e){var n=e.split(":"),t=babelHelpers.slicedToArray(n,2);return{userId:+t[0],deviceId:t[1]}}}))}function f(){return d().then((function(e){return null==e?void 0:e.userId}))}function l(e,n){return!(!(null==n?void 0:n.deviceId)||(null==n?void 0:n.userId)!==e)}function v(){var e=u();return e?d().then((function(n){return l(e,n)})):Promise.resolve(!1)}function p(){var e=u();if(!e){var n="Cannot create device id with no user id";return s((function(){return n})),Promise.reject(n)}return d().then((function(n){var t=null==n?void 0:n.deviceId;if(t&&l(e,n))return s((function(){return'Using "'.concat(t,'" as stored device push id')})),Promise.resolve(t);var r=i()();return Object(a.b)("airbnb_push_notifications","push_token_id",function(e){var n=e.deviceId,t=e.userId;return"".concat(t).concat(":").concat(n)}({deviceId:r,userId:e})),r}))}},"1fU2":function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var r=t("iuAd"),i=t("yCVm"),o=t("DP9I");function a(e,n,t){var o={};return n&&(o=Object.assign({},Object(i.a)())),t&&(o=Object.assign(Object.assign({},o),t)),"".concat(e).concat(Object(r.b)(o))}function c(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.maintainQueryParams,r=void 0!==t&&t,i=n.maintainHash,c=void 0!==i&&i,s=n.params,u=void 0===s?null:s,d=e;return(r||u)&&(d=a(d,r,u)),Object(o.c)()||c&&!Object(o.b)()&&(d="".concat(d).concat(window.location.hash)),d}},"5mXr":function(e,n,t){"use strict";var r={RookeryMessagePackageEvent:t("Ficp").a};n.a=r},"64oY":function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return d}));var r=t("PuV7"),i=t("6Tiy"),o=t("Ri7V"),a=t("acAX");function c(){return void 0!==Object(i.a)().force_push_notifications}function s(){return"serviceWorker"in window.navigator&&"PushManager"in window&&"Notification"in window}var u={treatment:function(){return!0},control:function(){return!1},treatment_unknown:function(){return!1}};function d(e){return!!function(e){return!!s()&&(!!c()||!o.a.getBootstrap("kill_web_push_notifications")&&(!(!Object(a.c)()||!Object(a.e)())&&("moweb"===e?!!o.a.getBootstrap("pwa_web_push_notifications_v1"):"homes-host"===e&&!!o.a.getBootstrap("hoho_web_push_notifications_v1"))))}(e)&&(!!c()||("moweb"===e?r.a.deliverExperiment("pwa_web_push_notifications_v1",u):"homes-host"===e&&r.a.deliverExperiment("hoho_web_push_notifications_v1",u)))}},"8sS/":function(e,n,t){"use strict";t.r(n),t.d(n,"getInitializeOptions",(function(){return u})),t.d(n,"default",(function(){return d}));var r=t("T4Uw"),i=t.n(r),o=t("ANar"),a=t("LrVU"),c=t("D/bq"),s=t("acAX");function u(){return navigator&&navigator.serviceWorker?navigator.serviceWorker.ready.then((function(e){if(e&&e.active){var n,t,r="homes-host-loop"===i.a.get("layout-init").tracking_context.controller?"GLOBAL_HOST":"GLOBAL_TRAVEL",o=e.active.scriptURL.split("/"),a="/".concat(o[o.length-1]);return{datadogTags:(n="registered_path:".concat(a),t="unknown",Object(s.c)()?t="android":Object(s.g)()&&(t="ios"),["os:".concat(t),"browser:".concat(Object(s.a)()),n].join(",")),appType:r,serviceWorkerRegistration:e}}})):Promise.resolve(void 0)}function d(e){var n=e.datadogTags;"undefined"!=typeof Notification&&"denied"===Notification.permission&&o.c.bump("service_worker.push_permission_denied",1,n),Object(a.a)()&&Object(c.c)()}},Bgua:function(e,n,t){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(Array.isArray(e))return e.map((function(e){return r(e)}));var n=e.replace("//","/");return n.startsWith("/")||(n="/".concat(n)),n}function i(e,n,t){return e.map((function(e){var o=function(e,n){if(!e.path)return null;if("function"==typeof e.path)return r(e.path(n));if(Array.isArray(e.path)){var t=[];return Array.isArray(n)?(n.forEach((function(n){e.path.forEach((function(e){t.push(r("".concat(r(n)).concat(r(e))))}))})),t):(e.path.forEach((function(e){t.push(r("".concat(r(n)).concat(r(e))))})),t)}return Array.isArray(n)?n.map((function(n){return r("".concat(r(n)).concat(r(e.path)))})):r("".concat(n).concat(r(e.path)))}(e,n);o&&t(o);var a=o||n;if(null!=e.serverConfig)throw new TypeError("Cannot use serverConfig in the browser");var c={app:e.app,topLevelProjectName:e.topLevelProjectName,component:e.component,exact:e.exact,key:e.key,routes:e.routes?i(e.routes,a,t):[],scripts:e.scripts,serverConfig:e.serverConfig||{},options:e.options||{},routeConfigName:e.routeConfigName,header:e.header,footer:e.footer};return o&&(c.path=o),c}))}function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=new Set;return i(e,n,(function(e){if(t.has(e))throw new Error('E01(https://air/hl-E01): Duplicate route found for: "'.concat(e,'"'));t.add(e)}))}t.d(n,"a",(function(){return o}))},"D/bq":function(e,n,t){"use strict";t.d(n,"c",(function(){return b})),t.d(n,"a",(function(){return m})),t.d(n,"b",(function(){return k}));var r=t("T4Uw"),i=t.n(r),o=t("qJkm"),a=t("ANar"),c=t("hwnc"),s=t("2jR3"),u=t("1Fup"),d=t("vyz3"),f=t("ECVA"),l=t("LrVU"),v=t("8sS/"),p=Object(c.a)("Push:Initialize",Object(c.b)("#b95f6f","#fff"));function h(e,n){var t=i.a.get("layout-init").tracking_context,r=void 0===t?{}:t;return Object(v.getInitializeOptions)().then((function(t){if(!t)return Promise.reject(new Error("No options available"));var i=t.appType;return Object(u.a)().then((function(t){return{appType:i,appVersion:"".concat(r.controller,":").concat(r.version),buildType:"RELEASE",deviceType:Object(d.a)(),deviceVersion:navigator.userAgent,nativeDeviceId:t,timeStamp:String((new Date).getTime()),token:JSON.stringify(e),tokenType:"VAPID",userId:n||o.a.current().id}}))}))}function g(){return Object(l.a)()?Object(v.getInitializeOptions)().then((function(t){if(!t)throw p((function(){return'No options available, was "initialize" called for push notifications?'})),new Error("No options available");return e=t.datadogTags,(n=t.serviceWorkerRegistration).pushManager.getSubscription()})).then((function(t){if(!t){var r,o=i.a.get("pushNotificationsKey");return p((function(){return'Initializing push notifications with key "'.concat(o,'".')})),n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:o}).then(h).then((function(n){return r=n,a.c.bump("service_worker.push_subscribe_success",1,e),p((function(){return["Subscription generated",n]})),Object(f.a)(n)})).catch((function(n){var t={extra:r};return n.fingerprint=["PushUnsubscribeFailure"],Object(s.b)(n,t),a.c.bump("service_worker.push_subscribe_failure",1,e),p((function(){return["Failed to subscribe, removing native subscription",n]})),w()}))}p((function(){return["Found existing push subscription, not updating upstream service.",t]}))})).catch((function(n){"No options available"!==n.message&&(a.c.bump("service_worker.push_subscribe_unknown_failure",1,e),(null==n?void 0:n.message)&&(n.fingerprint=["PushUnknownFailure",null==n?void 0:n.message]),Object(s.b)(n))})):Promise.resolve();var e,n}function b(){return Object(u.c)().then((function(e){return e?g():(p((function(){return"user has not opted in, attempt to find and clear invalid push subscription"})),w())}))}function m(){return Object(v.getInitializeOptions)().then((function(e){if(!e)return!1;var n=e.serviceWorkerRegistration;return Object(u.c)().then((function(e){return!!e&&n.pushManager.getSubscription().then((function(e){return!!e}))}))}))}function w(){return Object(v.getInitializeOptions)().then((function(e){return e?e.serviceWorkerRegistration.pushManager.getSubscription().then((function(n){if(!n)return p((function(){return"clearing push subscription: there was no active subscription"})),Promise.resolve(!0);function t(){return p((function(){return"clearing push subscription: push subscription unsubscribed"})),Object(u.b)().then((function(e){return e?h(void 0,e).then((function(e){return Object(f.a)(e).then((function(){return p((function(){return"successfully cleared push token from pleiades"})),Promise.resolve(!0)})).catch((function(){return p((function(){return"error clearing push token from pleiades"})),Promise.resolve(!0)}))})):Promise.resolve(!0)}))}return n.unsubscribe().then(t).catch((function(n){return Object(s.b)(n),a.c.bump("web_push.opt_in.unsubscribe_failure",1,null==e?void 0:e.datadogTags),t()}))})):Promise.resolve(!0)}))}function k(){var e;return Object(l.b)().then((function(n){return e=n,Object(v.getInitializeOptions)()})).then((function(n){return!!n&&(e?(a.c.bump("web_push.opt_in.permission_granted",1,null==n?void 0:n.datadogTags),Object(u.c)().then((function(e){if(e)return a.c.bump("web_push.opt_in.device_id_cached",1,null==n?void 0:n.datadogTags),p((function(){return"user has a valid device id cached"})),g().then((function(){return!0})).catch((function(){return!0}));a.c.bump("web_push.opt_in.no_device_id_cached",1,null==n?void 0:n.datadogTags),p((function(){return"user does not have a valid device id cached, clearing subscription"}));var t=function(){return g().then((function(){return!0}))};return w().then(t).catch(t)}))):(a.c.bump("web_push.opt_in.permission_denied",1,null==n?void 0:n.datadogTags),!1))}))}},D23X:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return a}));var r=t("1fU2"),i=t("6aHl");function o(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.maintainScrollPosition,a=void 0!==o&&o,c=i.maintainQueryParams,s=void 0!==c&&c,u=i.maintainHash,d=void 0!==u&&u,f=i.params,l=void 0===f?void 0:f,v=Object(r.a)(t,{maintainQueryParams:s,maintainHash:d,params:l});n.push(v),e.window&&!a&&e.window.scrollTo(0,0)}function a(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.maintainScrollPosition,a=void 0!==o&&o,c=t.maintainQueryParams,s=void 0!==c&&c,u=t.maintainHash,d=void 0!==u&&u,f=t.params,l=void 0===f?void 0:f,v=Object(r.a)(n,{maintainQueryParams:s,maintainHash:d,params:l});Object(i.b)().push(v),e.window&&!a&&e.window.scrollTo(0,0)}}).call(this,t("yLpj"))},ECVA:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r=t("fpk6"),i=t("oSOv"),o=t("hwnc"),a=t("2jR3"),c=t("vZiA"),s=Object(o.a)("Push:Send Token",Object(o.b)("#b95f6f","#fff"));function u(e){var n=Object(r.a)().get(i.c);return n?n.mutate({mutation:c.a,variables:{request:e}}).then((function(n){var t,r,i=n.errors,o=n.data;if(i&&(null==i?void 0:i.length)>0){var c,u,d="Failed to send push token due to network error";s((function(){return[d,i]}));var f={extra:Object.assign(Object.assign({},i[0]),e)},l=new Error(null!==(c=null===(u=i[0])||void 0===u?void 0:u.message)&&void 0!==c?c:d);throw l.fingerprint=["PushTokenUpdateFailure"],Object(a.b)(l,f),l}return s((function(){return["Sent push token to upstream server",o]})),null==o||null===(t=o.pleiades)||void 0===t||null===(r=t.writeToken)||void 0===r?void 0:r.deviceId})):(Object(a.b)(new Error("Unable to send push token due to no registered niobe client")),Promise.resolve(void 0))}},EYUP:function(e,n,t){"use strict";t.r(n);var r=t("rPoc"),i=t("g8Fj"),o=t("ANar"),a=t("Ri7V"),c=t("hwnc"),s=t("pOmT"),u=t("acAX"),d=t("2jR3"),f=t("yCVm"),l=t("w4U7"),v=t("D/bq"),p=t("/bk8"),h=t("uky3"),g=t("5mXr"),b=Object(c.a)("ServiceWorker",Object(c.b)("rebeccapurple","#fff"));function m(e){var n=Object(f.a)(),t=n.force_staging,r=n.force_env;if(!t&&!r)return e;var i=[];return t&&i.push("force_staging=".concat(t)),r&&i.push("force_env=".concat(r)),"".concat(e,"?").concat(i.join("&"))}function w(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{appType:"GLOBAL_TRAVEL",pushNotifications:!1,datadogTags:""},t=n.appType,a=n.datadogTags,c=n.pushNotifications,u=m(e),f=new r.a(u);b((function(){return"installing, verifying or updating ".concat(u,", see https://air/service-workers for debugging guides.")})),Object(s.c)((function(){b((function(){return"Login/logout status has changed, clearing shell cache"})),f.messageSW({type:"CLEAR_SHELL_CACHE"}),o.c.bump("service_worker.login_and_clear_cache",1,a),c&&Object(v.c)()})),f.addEventListener("installed",(function(e){o.c.bump("service_worker.installation",1,a),e.isUpdate?(o.c.bump("service_worker.version_updated",1,a),b((function(){return'updated installation completed for "'.concat(a,'"')}))):(o.c.bump("service_worker.first_installation",1,a),b((function(){return'first installation completed for "'.concat(a,'"')})))})),f.addEventListener("controlling",(function(e){e.sw&&Object(r.b)(e.sw,{type:"FLUSH_MESSAGES"}),o.c.bump("service_worker.controlling",1,a),b((function(){return'now controlling the page for "'.concat(a,'"')}))})),f.addEventListener("message",(function(e){switch(e.data.type){case"AIRDOG_BUMP":o.c.bump("service_worker.message.".concat(e.data.event),1,a);break;case"LOG_JITNEY_EVENT":i.a.logJitneyEvent({event_data:e.data.eventData,schema:g.a[e.data.schemaName]});break;case"SW_ERROR":o.c.bump("service_worker.worker_error",1,a),Object(d.b)(e.data.error);break;case"NOTIFICATION_CLICKED":o.c.bump("service_worker.push_notification_clicked",1,a),Object(h.a)(e.data.payload)}})),f.addEventListener("activated",(function(e){!e.isUpdate&&c&&navigator.serviceWorker.getRegistration().then((function(e){e&&(b((function(){return"initializing push notifications in activate"})),Object(l.a)({serviceWorkerRegistration:e,datadogTags:a,appType:t}))})),o.c.bump("service_worker.activated_new_version",1,a),b((function(){return'activated new version for "'.concat(a,'"')}))})),f.addEventListener("waiting",(function(e){e.sw&&Object(r.b)(e.sw,{type:"SKIP_WAITING"}).then((function(e){e?(b((function(){return"Manual reload signal in development received, reloading page"})),location.reload(!0)):b((function(){return"Automatic service worker activation failed, you may need to hard refresh the page to get the new worker."}))})),o.c.bump("service_worker.waiting_to_install",1,a)})),f.register().then((function(e){e&&c&&(e.active?(b((function(){return"initializing push notifications with active registration"})),Object(l.a)({serviceWorkerRegistration:e,appType:t,datadogTags:a}),Object(r.b)(e.active,{type:"FLUSH_PUSH_NOTIFICATIONS_QUEUE"}).then((function(e){e&&e.forEach((function(e){Object(h.a)(e)}))}))):b((function(){return"no active worker, waiting to activate for push notifications"}))),Object(o.a)("service_worker.registration",1,null==a?void 0:a.split(","),!0)})).catch((function(e){b((function(){return["service worker registration failed",e]})),o.c.bump("service_worker.failed_installation",1,a),Object(d.c)(e,{tags:{service_worker_error_type:"service_worker.failed_installation"}})}))}n.default=function(e,n){if("undefined"!=typeof navigator&&navigator.serviceWorker)if(e){var t=function(e){var n="unknown";return Object(u.c)()?n="android":Object(u.g)()&&(n="ios"),["os:".concat(n),"browser:".concat(Object(u.a)()),e].join(",")}("registered_path:".concat(e));Object(o.a)("service_worker.initialization_attempt",1,null==t?void 0:t.split(","),!0),Object(f.a)().forceResetServiceWorker&&Object(p.a)({legacyOnly:!1}).then((function(){window.location.search=window.location.search.replace("forceResetServiceWorker","swResetComplete")}));var r=a.a.getBootstrap("disable_all_service_workers"),i=a.a.getBootstrap("temporarily_disable_service_workers_for_me"),c='skipping start of the service worker due to user opted out, remove your user from "temporarily_disable_service_workers_for_me" to opt back in.',s=r||i;Object(p.a)({legacyOnly:!s,serviceWorkerPath:e,datadogTags:t}).then((function(){s?b((function(){return i?c:"service workers are globally disabled, skipping start"})):w(e,Object.assign({datadogTags:t},n))})).catch((function(r){s?b((function(){return i?c:"service workers are globally disabled, skipping start"})):(w(e,Object.assign({datadogTags:t},n)),o.c.bump("service_worker.initialization_failed",1,t),Object(d.c)(r,{extra:{service_worker_error_type:"service_worker.initialization_failed"}}))}))}else navigator.serviceWorker.getRegistrations().then((function(e){e.length&&(b((function(){return"No service worker was registered but one is active, removing and if in development, reloading the page."})),Object(p.a)({legacyOnly:!1}).finally((function(){0})))}))}},Ficp:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var r={defaultProps:{schema:"com.airbnb.jitney.event.logging.Rookery:RookeryMessagePackageEvent:1.0.0",event_name:"rookery_message_package"},propTypes:{},fullyQualifiedName:"Rookery.v1.RookeryMessagePackageEvent"}},LrVU:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return d})),t.d(n,"c",(function(){return f}));var r=t("ANar"),i=t("hwnc"),o=t("64oY"),a=t("8sS/"),c=t("1Fup"),s=Object(i.a)("Push:Permissions",Object(i.b)("#b95f6f","#fff"));function u(){return"undefined"!=typeof Notification&&"granted"===Notification.permission}function d(){return Object(o.b)()?"denied"===Notification.permission?Promise.resolve(!1):"granted"===Notification.permission?Promise.resolve(!0):(s((function(){return"Attempting to request permissions"})),Notification.requestPermission().then((function(n){return e=n,s((function(){return"Resulting permission: ".concat(e)})),Object(a.getInitializeOptions)()})).then((function(n){if(!n)return!1;var t=n.datadogTags;return r.c.bump("service_worker.push_notifications.permission_".concat(e),1,t),"granted"===e}))):Promise.resolve(!1);var e}function f(){return(u()?Object(c.c)():Promise.resolve(!1)).then((function(e){return!e&&("undefined"==typeof Notification?(s((function(){return"Not showing push notifications since they’re not supported"})),!1):"denied"!==Notification.permission||(s((function(){return"Not showing push notifications due to not having permission"})),!1))}))}},N8SN:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var r=t("hwnc"),i=t("2jR3"),o=Object(r.a)("Push:NotificationHandler"),a=new Set;function c(e){var n=!1,t=function(){n=!0};return a.forEach((function(n){try{n(Object.assign(Object.assign({},e),{},{handleNotification:t}))}catch(t){o((function(){return["Exception in custom handler for notification",{handler:n,payload:e}]})),Object(i.b)(t)}})),n}},"V/vL":function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return s}));var r=t("Ty5D"),i=t("wx14"),o=t("q1tI"),a=t.n(o);function c(e,n,t){return void 0===t&&(t=[]),e.some((function(e){var i=e.path?Object(r.g)(n,e):t.length?t[t.length-1].match:r.c.computeRootMatch(n);return i&&(t.push({route:e,match:i}),e.routes&&c(e.routes,n,t)),i})),t}function s(e,n,t){return void 0===n&&(n={}),void 0===t&&(t={}),e?a.a.createElement(r.e,t,e.map((function(e,t){return a.a.createElement(r.b,{key:e.key||t,path:e.path,exact:e.exact,strict:e.strict,render:function(t){return e.render?e.render(Object(i.a)({},t,{},n,{route:e})):a.a.createElement(e.component,Object(i.a)({},t,n,{route:e}))}})}))):null}},"dy+6":function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t("mKPX");function i(e){var n=e.pathname,t=e.routes,i=e.exitRoutes;return Object(r.a)(t||[],n)&&(!i||!Object(r.a)(i,n))}},fpk6:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var r,i=t("T4Uw"),o=t.n(i),a=t("+AkB"),c=function(){function e(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.instances=new Map,this.providers=new Map,this.mapKeys=new Map,this.consumerId=0,this.pendingInstances=new Map,this.parent=n.parent,this.id=n.id||"",n.installers&&n.installers.forEach((function(n){return n(e)}))}var n=e.prototype;return n.get=function(e){if(!this.instances.has(e.id)){if(!this.providers.has(e.id))throw new Error("Token '".concat(e.id,"' has no provider. Did you install one?"));throw new Error("Token '".concat(e.id,"' has no instance. Did you create instances?"))}return this.instances.get(e.id)},n.getAsync=function(e){if(!this.pendingInstances.has(e.id)){if(!this.providers.has(e.id))throw new Error("Token '".concat(e.id,"' has no provider. Did you install one?"));throw new Error("Token '".concat(e.id,"' has no pending instance. Did you create instances?"))}return this.pendingInstances.get(e.id)},n.provideHydrationInstances=function(e){var n=this;if(this.instances.size>0)throw new Error("Already installed hydration instances.");e.forEach((function(e){var t=babelHelpers.slicedToArray(e,2),r=t[0],i=t[1];n.instances.set(r,i),n.pendingInstances.set(r,Promise.resolve(i))}))},n.getHydrationInstances=function(){var e=this;return Array.from(this.providers.values()).reduce((function(n,t){var r=babelHelpers.slicedToArray(t,3)[2];return void 0===r.type&&r.options.hydrate&&n.push([r.id,e.get(r)]),n}),[])},n.provide=function(e,n,t){this.providers.set(e.id,[n,t,e])},n.consume=function(e,n){this.consumerId+=1,this.provide(Object(a.a)("consumer,".concat(this.consumerId)),e,n)},n.createInstances=function(){var e=this;return this.collectAncestorInstances(this.parent),this.mapKeys=Array.from(this.providers.values()).reduce((function(e,n){var t=babelHelpers.slicedToArray(n,3)[2];if("key"===t.type){var r=e.get(t.map.id)||[];r.push(t),e.set(t.map.id,r)}return e}),new Map),this.providers.forEach((function(n,t){return e.createInstance(t,[])})),Promise.all(this.pendingInstances.values()).then((function(){}))},n.collectAncestorInstances=function(e){var n=this;e&&(e.pendingInstances.forEach((function(e,t){n.providers.has(t)||n.pendingInstances.has(t)||n.pendingInstances.set(t,e.then((function(e){return n.assignMapKeys(e,t)})).then((function(e){return n.instances.set(t,e),e})))})),e.providers.forEach((function(e,t){n.providers.has(t)||n.providers.set(t,e)})),this.collectAncestorInstances(e.parent))},n.assignMapKeys=function(e,n){var t=this,r=this.mapKeys.get(n);if(!r||"object"!==babelHelpers.typeof(e))return e;var i=Object.assign({},e);return Promise.all(r.map((function(e){return t.createInstance(e.id,[n])}))).then((function(e){return e.forEach((function(e,n){i[r[n].key]=e})),i}))},n.createInstance=function(e,n){var t=this;if(n.includes(e))throw new Error("Cycle in dependency graph: ".concat([].concat(babelHelpers.toConsumableArray(n),[e]).join(" -> ")));var r=this.pendingInstances.get(e);if(r)return r;var i=this.providers.get(e);if(!i)throw new Error("Token '".concat(e,"' has no provider."));var o=babelHelpers.slicedToArray(i,2),a=o[0],c=o[1],s=Promise.all(a.map((function(r){return"promise"===r.type?null:t.createInstance(r.id,[].concat(babelHelpers.toConsumableArray(n),[e]))}))).then((function(n){var r=a.map((function(r,i){return"promise"===r.type?t.createInstance(r.id,[e]):n[i]}));return c.apply(void 0,babelHelpers.toConsumableArray(r))})).then((function(n){return t.assignMapKeys(n,e)})).then((function(n){return t.instances.set(e,n),n}));return this.pendingInstances.set(e,s),s},e}();function s(){if(!r){r=new c;var e=o.a.get("injectorInstances");Array.isArray(e)&&r.provideHydrationInstances(e)}return r}},iuAd:function(e,n,t){"use strict";t.d(n,"b",(function(){return c})),t.d(n,"a",(function(){return s})),t.d(n,"c",(function(){return u}));var r=t("Qyje"),i=t.n(r),o=t("yCVm"),a=(t("0P7S"),t("6aHl"));function c(e){return void 0===e||0===Object.keys(e).length?"":"?".concat(i.a.stringify(e,{arrayFormat:"brackets"}))}function s(e){return 0===Object.keys(e).length?window.location.pathname:"".concat(window.location.pathname).concat(c(e))}function u(e){if(e){var n=Object.assign({},Object(o.a)());delete n[e],Object(a.b)().replace(s(n))}}},mKPX:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t("V/vL"),i=t("Bgua");function o(e,n){return function(e,n){var t=n.match(/[^#?]+/),o=Object(i.a)(e,"/");return t?Object(r.a)(o,t[0]):[]}(e,n).some((function(e){return e.match.isExact}))}},oSOv:function(e,n,t){"use strict";t.d(n,"c",(function(){return i})),t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return a})),t.d(n,"d",(function(){return c}));var r=t("+AkB"),i=Object(r.a)("NiobeClientToken"),o=Object(r.a)("NiobeBetaClientToken"),a=Object(r.a)("NiobeApolloClientToken"),c=Object(r.a)("NiobeMinimalistClientToken")},rPoc:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return r}));try{self["workbox:window:5.1.3"]&&_()}catch(r){}function r(e,n){return new Promise((function(t){var r=new MessageChannel;r.port1.onmessage=function(e){t(e.data)},e.postMessage(n,[r.port2])}))}function i(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}try{self["workbox:core:5.1.3"]&&_()}catch(r){}var o=function(){var e=this;this.promise=new Promise((function(n,t){e.resolve=n,e.reject=t}))};function a(e,n){var t=location.href;return new URL(e,t).href===new URL(n,t).href}var c=function(e,n){this.type=e,Object.assign(this,n)};function s(e,n,t){return t?n?n(e):e:(e&&e.then||(e=Promise.resolve(e)),n?e.then(n):e)}function u(){}var d=function(e){var n,t;function u(n,t){var r,i;return void 0===t&&(t={}),(r=e.call(this)||this).t={},r.i=0,r.o=new o,r.u=new o,r.s=new o,r.v=0,r.h=new Set,r.l=function(){var e=r.g,n=e.installing;r.i>0||!a(n.scriptURL,r.m)||performance.now()>r.v+6e4?(r.P=n,e.removeEventListener("updatefound",r.l)):(r.p=n,r.h.add(n),r.o.resolve(n)),++r.i,n.addEventListener("statechange",r.k)},r.k=function(e){var n=r.g,t=e.target,i=t.state,o=t===r.P,a=o?"external":"",s={sw:t,originalEvent:e};!o&&r.j&&(s.isUpdate=!0),r.dispatchEvent(new c(a+i,s)),"installed"===i?r.O=self.setTimeout((function(){"installed"===i&&n.waiting===t&&r.dispatchEvent(new c(a+"waiting",s))}),200):"activating"===i&&(clearTimeout(r.O),o||r.u.resolve(t))},r.R=function(e){var n=r.p;n===navigator.serviceWorker.controller&&(r.dispatchEvent(new c("controlling",{sw:n,originalEvent:e,isUpdate:r.j})),r.s.resolve(n))},r.S=(i=function(e){var n=e.data,t=e.source;return s(r.getSW(),(function(){r.h.has(t)&&r.dispatchEvent(new c("message",{data:n,sw:t,originalEvent:e}))}))},function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(i.apply(this,e))}catch(e){return Promise.reject(e)}}),r.m=n,r.t=t,navigator.serviceWorker.addEventListener("message",r.S),r}t=e,(n=u).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var d,l,v=u.prototype;return v.register=function(e){var n=(void 0===e?{}:e).immediate,t=void 0!==n&&n;try{var r=this;return function(e,n){var t=e();return t&&t.then?t.then(n):n()}((function(){if(!t&&"complete"!==document.readyState)return f(new Promise((function(e){return window.addEventListener("load",e)})))}),(function(){return r.j=Boolean(navigator.serviceWorker.controller),r.U=r.B(),s(r.L(),(function(e){r.g=e,r.U&&(r.p=r.U,r.u.resolve(r.U),r.s.resolve(r.U),r.U.addEventListener("statechange",r.k,{once:!0}));var n=r.g.waiting;return n&&a(n.scriptURL,r.m)&&(r.p=n,Promise.resolve().then((function(){r.dispatchEvent(new c("waiting",{sw:n,wasWaitingBeforeRegister:!0}))})).then((function(){}))),r.p&&(r.o.resolve(r.p),r.h.add(r.p)),r.g.addEventListener("updatefound",r.l),navigator.serviceWorker.addEventListener("controllerchange",r.R,{once:!0}),r.g}))}))}catch(e){return Promise.reject(e)}},v.update=function(){try{return this.g?f(this.g.update()):void 0}catch(e){return Promise.reject(e)}},v.getSW=function(){try{return void 0!==this.p?this.p:this.o.promise}catch(e){return Promise.reject(e)}},v.messageSW=function(e){try{return s(this.getSW(),(function(n){return r(n,e)}))}catch(e){return Promise.reject(e)}},v.B=function(){var e=navigator.serviceWorker.controller;return e&&a(e.scriptURL,this.m)?e:void 0},v.L=function(){try{var e=this;return function(e,n){try{var t=e()}catch(e){return n(e)}return t&&t.then?t.then(void 0,n):t}((function(){return s(navigator.serviceWorker.register(e.m,e.t),(function(n){return e.v=performance.now(),n}))}),(function(e){throw e}))}catch(e){return Promise.reject(e)}},d=u,(l=[{key:"active",get:function(){return this.u.promise}},{key:"controlling",get:function(){return this.s.promise}}])&&i(d.prototype,l),u}(function(){function e(){this.M=new Map}var n=e.prototype;return n.addEventListener=function(e,n){this._(e).add(n)},n.removeEventListener=function(e,n){this._(e).delete(n)},n.dispatchEvent=function(e){e.target=this;var n=this._(e.type),t=Array.isArray(n),r=0;for(n=t?n:n[Symbol.iterator]();;){var i;if(t){if(r>=n.length)break;i=n[r++]}else{if((r=n.next()).done)break;i=r.value}i(e)}},n._=function(e){return this.M.has(e)||this.M.set(e,new Set),this.M.get(e)},e}());function f(e,n){if(!n)return e&&e.then?e.then(u):Promise.resolve()}},rkMX:function(e,n,t){"use strict";t.r(n),t.d(n,"PleiadesAppType",(function(){return r})),t.d(n,"PleiadesMobileBuildType",(function(){return i})),t.d(n,"PleiadesMobileStatus",(function(){return o})),t.d(n,"PleiadesTokenType",(function(){return a}));var r={ALPHA:"ALPHA",BETA:"BETA",CHINA_HOST:"CHINA_HOST",CHINA_TRAVEL:"CHINA_TRAVEL",DEV:"DEV",GLOBAL_HOST:"GLOBAL_HOST",GLOBAL_TRAVEL:"GLOBAL_TRAVEL",UNDEFINED:"UNDEFINED"},i={ALPHA:"ALPHA",BETA:"BETA",CHINA:"CHINA",DEBUG:"DEBUG",QA:"QA",RELEASE:"RELEASE",UNDEFINED:"UNDEFINED"},o={LOG_IN:"LOG_IN",LOG_OUT:"LOG_OUT",UNDEFINED:"UNDEFINED",VISITOR:"VISITOR"},a={APNS:"APNS",FCM:"FCM",GCM:"GCM",JPUSH:"JPUSH",UNDEFINED:"UNDEFINED",VAPID:"VAPID"},c=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"SendPushTokenMutation"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"request"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"PleiadesWriteTokenRequestInput"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"pleiades"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"writeToken"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"request"},"value":{"kind":"Variable","name":{"kind":"Name","value":"request"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"deviceId"},"arguments":[],"directives":[]}]}}]}}]}}],"operationType":"MUTATION"}');c.operationId="1bcc069f80f3b154f36cc144ec00d63a52746d63e35d4151e20cf67ef908a14b",c.integrityHash="d1aedfbfd01e4cc1c5d61afd7a774f9229615ed2db5064b469e1e911f7f40e94",n.default=c},uky3:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var r=t("dy+6"),i=t("6Tiy"),o=t("hwnc"),a=t("fpk6"),c=t("D23X"),s=t("zLkY"),u=t("N8SN"),d=Object(o.a)("Push:NotificationHandler");function f(e){if(Object(u.a)(e))d((function(){return"A handler successfully handled the click, not changing the URL automatically"}));else{var n=(null==e?void 0:e.data).url;if(!n)return void d((function(){return"Unable to extract URL from event, this is likely a bug"}));d((function(){return["No initial push handler was registered to handle the event, loading ".concat(n," and trying again."),{event:event}]}));var t=new URL(n,location.origin);if(location.href===t.href)location.reload();else{var o=location.origin===t.origin,f=Object(a.a)().get(s.a),l=f.exitRoutes,v=f.routes;if(!o||!Object(r.a)({exitRoutes:l,pathname:t.pathname,routes:v}))return void location.assign(t.href);Object(c.b)(t.pathname,{params:Object(i.a)(t.search)})}!function e(n,t){setTimeout((function(){requestAnimationFrame((function(){Object(u.a)(n)||(!t||t<5?e(n,(null!=t?t:0)+1):d((function(){return"Max dispatch attempts reached, giving up custom handling of notification."})))}))}),500)}(e)}}},vZiA:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var r=t("rkMX").default||t("rkMX")},vyz3:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t("acAX");function i(){var e=navigator.userAgent;return Object(r.c)(e)?"ANDROID_VAPID":Object(r.i)(e)?"IPHONE_VAPID":Object(r.h)(e)?"IPAD_VAPID":"DESKTOP_VAPID"}},w4U7:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));function r(e){var n,r;(n=new Promise((function(e){Promise.resolve().then(function(n){e(babelHelpers.interopRequireWildcard(t("8sS/")))}.bind(null,t)).catch(t.oe)})),r="service-worker-push-notification-initializer",n.chunkName=r,n).then((function(n){(0,n.default)(e)}))}},zLkY:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t("+AkB"),i=Object(r.a)("AppRoutesToken")}}]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/service-worker-initializer-56d88e13.js.map